<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="admin/inc/layout-back">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/user/product/list.css">
</head>
<body>
<main layout:fragment="main" class="d:flex fl-dir:column gap:8 md:gap:13 max-w:9 w:10p pt:8 md:pt:13  pr:4 pl:4 md:pr:0 md:pl:0 ">
    <section class="d:flex jc:center w:10p">
        <h1 class="d:none">검색폼</h1>
        <form class="pos:relative w:10p md:w:8 h:2">
            <fieldset>
                <legend class="d:none">상품검색</legend>
                <input type="text" class="n-textbox border-color:main-6 bd-radius:4" placeholder="검색어를 입력해 주세요">
                <button class="pos:absolute m-right:1 icon icon:magnifying_glass icon-size:3 icon-color:base-5" style="top:2px; right:4px;"></button>
            </fieldset>
        </form>
    </section>
    <section class="w:10p">
            <h1 class="d:none">상품선택목록</h1>
            <div class="d:flex jc:space-between ai:center w:10p">
                <div>
                    <input type="checkbox" class="n-toggle n-toggle-type:check n-toggle-size:1">
                    <span class="fw:3">전체선택</span>
                </div>
                <div>
                    <button class="n-btn n-btn:outline fw:3 color:main-6">품절</button>
                    <button class="n-btn fw:3">숨김</button>
                </div>
            </div>
    </section>
    <section class="d:flex fl-dir:column gap:4 w:10p">
        <h1 class="d:none">상품카드 목록</h1>
        <div class="d:flex ai:center fl-dir:row gap:3" th:each="list:${list}" >
            <div>
                <input type="checkbox" class="n-toggle n-toggle-type:check n-toggle-size:1">
            </div>
            <div class="d:flex n-item color:color-base-4 fl-grow:1 gap:2">
                <a href="#" th:href="@{/admin/product/update(id=${list.id})}" class="d:flex w:10p gap:2">
                <div>
                    <img src="/img/carrot.png" alt="상품썸네일">
                </div>
                <div class="d:flex fl-dir:column gap:2 w:10p">
                    <div th:text="${list.name}">흙당근 2개입</div>
                    <div th:text="${#numbers.formatInteger(list.price,3,'COMMA') + '원'}">2500</div>
                    <div class="d:flex fl-dir:row gap:3 pos:relative">
                        <span>재고</span>
<!--                        <span th:text="${list.amount}">200</span>-->
                        <span class="bar"></span>
                        <span>상태</span>
                        <span th:text="${list.state}">활성화</span>
                    </div>
                </div>
                </a>
            </div>
        </div>
       
        <div class="d:flex">
            <h1 class="d:none">상품추가</h1>
            <a class="fl-grow:1 d:flex" th:href="@{/admin/product/reg}">
                <button class="fl-grow:1 n-btn n-btn:outline border-color:base-4 w:10p ml:7 h:4">
                    <span class="icon icon:plus"></span>
                </button>
            </a>
        </div>

        
    </section>
    <section class="d:flex w:10p mb:5 jc:center">
        <h1 class="d:none">페이저</h1>
        <ul class="n-pager d:flex " th:with="page=${param.p} eq null ? 1 : ${{param.p}}
                                                        , temp=(${page}-1)/5
                                                        , startnum=${T(java.lang.Math).floor(temp)}*5+1
                                                        , temp1=${count div 6}
                                                        , lastnum=${count} mod 6 eq 0 ? ${temp1} : ${temp1}+1">
          <li>
            <span th:if="${page} lt 6">이전</span>
            <a th:if="${{page}} ge 6" th:href="@{./list(p=${startnum-1})}" href="list?p=1">이전</a>
          </li>
          <li th:each="n:${#numbers.sequence(startnum,startnum+4)}" th:class="${{param.p}} eq ${n}? 'active' : ''">
            <span th:if="${n} gt ${lastnum}" th:text="${n}"></span>
            <a th:if="${n} le ${lastnum}" th:href="@{./list(p=${n})}" th:text="${n}" href="list?p=1">1</a>
          </li>
          <li>
            <span th:if="${lastnum} lt ${startnum+5}">다음</span>
            <a th:if="${lastnum} ge ${startnum+5}" th:href="@{./list(p=${startnum+5})}" href="list?p=6">다음</a>
          </li>
        </ul>
    </section>  
</main>
</body>
</html>